import{ai as o,x as n,aE as l,L as e,aa as i,v as r}from"./chunks/framework.DNV5qdj1.js";const g=JSON.parse('{"title":"插件清单","description":"","frontmatter":{"authors":["northword"]},"headers":[],"relativePath":"plugin-dev-guide/reference/manifest.md","filePath":"wiki/plugin-dev-guide/reference/manifest.md"}'),h={name:"plugin-dev-guide/reference/manifest.md"};function d(p,a,c,k,u,E){const s=i("NolebaseGitContributors"),t=i("NolebaseGitChangelog");return r(),n("div",null,[a[0]||(a[0]=l('<h1 id="插件清单" tabindex="-1">插件清单 <a class="header-anchor" href="#插件清单" aria-label="Permalink to &quot;插件清单&quot;">​</a></h1><p><code>manifest.json</code> 是插件的清单文件，它是一个允许使用 <code>//</code> 撰写单行注释的、特殊的 JSON 文件。此文件必须存在，否则插件无效。</p><p>在这个文件中定义了插件的名称、ID、描述、图标、更新地址、兼容版本等信息。</p><p>此文件与 <a href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json" target="_blank" rel="noreferrer">Web Extension 的 manifest.json</a> 基本一致，只是减少了一些字段。</p><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><p>下面是一个典型的 <code>manifest.json</code> 文件，内容来源于官方插件示例 <code>Make It Red</code>。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;manifest_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Make It Red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Makes everything red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;homepage_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://github.com/zotero/make-it-red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;applications&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;zotero&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;make-it-red@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;update_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://zotero-download.s3.amazonaws.com/tmp/make-it-red/updates-2.0.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;strict_min_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;6.999&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;strict_max_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;7.0.*&quot;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="属性参考" tabindex="-1">属性参考 <a class="header-anchor" href="#属性参考" aria-label="Permalink to &quot;属性参考&quot;">​</a></h2><h3 id="manifest-version" tabindex="-1"><code>manifest_version</code> <a class="header-anchor" href="#manifest-version" aria-label="Permalink to &quot;`manifest_version`&quot;">​</a></h3><ul><li>类型：<code>number</code></li><li>强制性：强制</li></ul><p>此键指定扩展使用的 <code>manifest.json</code> 的版本。</p><p>值须是且仅能是 <code>2</code>。</p><h3 id="name" tabindex="-1"><code>name</code> <a class="header-anchor" href="#name" aria-label="Permalink to &quot;`name`&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>强制性：强制</li></ul><p>插件的名称，本地化可参考 <a href="#manifest-的本地化">manifest 的本地化</a>。</p><h3 id="version" tabindex="-1"><code>version</code> <a class="header-anchor" href="#version" aria-label="Permalink to &quot;`version`&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>强制性：强制</li></ul><p>插件的版本，一般格式为由点分隔的数字组成的 ASCII 字符串。</p><h4 id="版本格式" tabindex="-1">版本格式 <a class="header-anchor" href="#版本格式" aria-label="Permalink to &quot;版本格式&quot;">​</a></h4><p>版本字符串由 1 到 4 个数字组成，数字之间用点分隔，例如 <code>1.2.3.4</code> 。非零数字不得包含前导零。例如，不允许使用 <code>2.01</code> ；但是， <code>0.2</code> 、 <code>2.0.1</code> 和 <code>2.10</code> 是允许的。</p><h4 id="版本比较" tabindex="-1">版本比较 <a class="header-anchor" href="#版本比较" aria-label="Permalink to &quot;版本比较&quot;">​</a></h4><p>为了确定两个扩展版本中哪一个是最新的，需要从左到右比较版本字符串号。缺少版本字符串元素相当于 <code>0</code> 。例如，<code>1.0</code> 相当于 <code>1.0.0.0</code>。第一个版本字符串的编号大于另一个版本字符串中对应编号的版本字符串是最新的。例如，<code>1.10</code> 是比 <code>1.9</code> 更新的版本。</p><h3 id="applications" tabindex="-1"><code>applications</code> <a class="header-anchor" href="#applications" aria-label="Permalink to &quot;`applications`&quot;">​</a></h3><p>类型：<code>object</code> 强制性：强制</p><p>此项必须包含属性 <code>zotero</code>。</p><h4 id="zotero" tabindex="-1"><code>zotero</code> <a class="header-anchor" href="#zotero" aria-label="Permalink to &quot;`zotero`&quot;">​</a></h4><h5 id="id" tabindex="-1"><code>id</code> <a class="header-anchor" href="#id" aria-label="Permalink to &quot;`id`&quot;">​</a></h5><p><code>id</code> 即扩展 ID。必填项。通常的，大家都使用邮箱格式来命名插件 ID</p><h5 id="strict-min-version" tabindex="-1"><code>strict_min_version</code> <a class="header-anchor" href="#strict-min-version" aria-label="Permalink to &quot;`strict_min_version`&quot;">​</a></h5><p>插件所能支持的 Zotero 的最小版本号。不允许使用 <code>*</code> 来定义版本号。默认值为 &quot;42a1&quot;。</p><h5 id="strict-max-version" tabindex="-1"><code>strict_max_version</code> <a class="header-anchor" href="#strict-max-version" aria-label="Permalink to &quot;`strict_max_version`&quot;">​</a></h5><p>插件所能支持的 Zotero 的最大版本号。如果安装或运行插件的 Firefox 版本号高于这个最大版本号，插件将不能运行或不允许被安装。默认值为 <code>*</code>，意思为不对最大版本号做检查。</p><h5 id="update-url" tabindex="-1"><code>update_url</code> <a class="header-anchor" href="#update-url" aria-label="Permalink to &quot;`update_url`&quot;">​</a></h5><p>链接到插件 <a href="./update">更新清单</a> 的链接。注意链接必须以「https」开头。这是为了使你自己就能够管理插件的更新。</p><h3 id="author" tabindex="-1"><code>author</code> <a class="header-anchor" href="#author" aria-label="Permalink to &quot;`author`&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>强制性：非强制</li></ul><p>插件的作者，用于在浏览器用户界面上显示，这样别人下载安装使用该插件的时候，就能看见你的大名了。</p><h3 id="description" tabindex="-1"><code>description</code> <a class="header-anchor" href="#description" aria-label="Permalink to &quot;`description`&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>强制性：非强制</li></ul><p>用于在用户下载安装使用界面中显示的一段简短的关于该插件的描述。</p><p>这是一个可本地化的键。</p><h3 id="homepage-url" tabindex="-1"><code>homepage_url</code> <a class="header-anchor" href="#homepage-url" aria-label="Permalink to &quot;`homepage_url`&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>强制性：非强制</li></ul><p>如果 developer 键存在且包含 <code>url</code> 属性，它将会覆盖 <code>homepage_url</code> 键。</p><p>这是一个可本地化的键。</p><h2 id="manifest-的本地化" tabindex="-1">manifest 的本地化 <a class="header-anchor" href="#manifest-的本地化" aria-label="Permalink to &quot;manifest 的本地化&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">Todo</p><p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Internationalization#%E5%9B%BD%E9%99%85%E5%8C%96_manifest.json" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Internationalization#国际化_manifest.json</a></p></div><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json" target="_blank" rel="noreferrer">Web Extension 的 manifest.json</a></li><li><a href="https://www.zotero.org/support/dev/zotero_7_for_developers" target="_blank" rel="noreferrer">Zotero 7 for developers</a></li></ul>',49)),e(s),e(t)])}const q=o(h,[["render",d]]);export{g as __pageData,q as default};
