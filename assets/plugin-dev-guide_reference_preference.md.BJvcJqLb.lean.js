import{ai as t,x as h,aE as l,L as i,aa as a,v as p}from"./chunks/framework.DNV5qdj1.js";const F=JSON.parse('{"title":"Zotero é¦–é€‰é¡¹","description":"","frontmatter":{"authors":["windingwind","ShareStuff","northword"]},"headers":[],"relativePath":"plugin-dev-guide/reference/preference.md","filePath":"wiki/plugin-dev-guide/reference/preference.md"}'),k={name:"plugin-dev-guide/reference/preference.md"};function r(d,s,E,o,g,y){const e=a("NolebaseGitContributors"),n=a("NolebaseGitChangelog");return p(),h("div",null,[s[0]||(s[0]=l(`<h1 id="zotero-é¦–é€‰é¡¹" tabindex="-1">Zotero é¦–é€‰é¡¹ <a class="header-anchor" href="#zotero-é¦–é€‰é¡¹" aria-label="Permalink to &quot;Zotero é¦–é€‰é¡¹&quot;">â€‹</a></h1><p>Preference æ˜¯ Zotero æ’ä»¶çš„ä¸€ç§æŒä¹…åŒ–è®¾ç½®èƒ½åŠ›ã€‚ä¸å…¶ä»–ä»£ç è¿è¡Œç¯å¢ƒç›¸åŒï¼Œå˜é‡åœ¨ Zotero é‡å¯åä¼šè¢«é‡ç½®ï¼Œå› æ­¤å¯¹äºç”¨æˆ·çš„è®¾ç½®ç­‰éœ€è¦æŒä¹…å­˜å‚¨çš„å˜é‡ï¼Œé€šè¿‡ Preference æ¥å­˜å–ã€‚</p><p>Preference å­˜å‚¨äº <a href="https://www.zotero.org/support/kb/profile_directory" target="_blank" rel="noreferrer">Zotero é…ç½®æ–‡ä»¶ç›®å½•</a> ä¸‹çš„ <code>prefs.js</code>ã€‚é™¤ç‰¹æ®Šæƒ…å†µï¼Œè¯·å‹¿å¼•å¯¼ç”¨æˆ·ä¿®æ”¹è¯¥æ–‡ä»¶ã€‚</p><p>ğŸ’¡ æ³¨æ„ï¼šPreference çš„å€¼æœ‰é•¿åº¦é™åˆ¶ï¼Œè¯·å‹¿è®¾ç½®å¤ªé•¿çš„å­—ç¬¦ä¸²ã€‚</p><h2 id="é»˜è®¤è®¾ç½®" tabindex="-1">é»˜è®¤è®¾ç½® <a class="header-anchor" href="#é»˜è®¤è®¾ç½®" aria-label="Permalink to &quot;é»˜è®¤è®¾ç½®&quot;">â€‹</a></h2><p>åœ¨æ’ä»¶æ ¹ç›®å½•æ–°å»º <code>prefs.js</code>ï¼Œå¹¶å¡«å…¥å¦‚ä¸‹ç¤ºä¾‹çš„å†…å®¹ï¼Œå¯ä»¥åˆå§‹åŒ–çš„ Preference çš„é”®å’Œå€¼ã€‚é”®ä¸ºå­—ç¬¦ä¸²ï¼Œå€¼ä¸ºå¸ƒå°”ã€æ•°å­—æˆ–å­—ç¬¦ä¸²å…¶ä¸€ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extensions.zotero.Knowledge4Zotero.syncNoteIds&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extensions.zotero.Knowledge4Zotero.syncPeriod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extensions.zotero.Knowledge4Zotero.autoAnnotation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">è­¦å‘Š</p><p>è¯·æ³¨æ„ï¼Œè¯¥æ–‡ä»¶ä¸­æ¯ä¸€è¡Œçš„ pref è¯·å‹¿æ¢è¡Œã€‚æ¢è¡Œå¯èƒ½å¯¼è‡´å¤±æ•ˆï¼Œå¹¶ä¸ä¼šæœ‰æ˜æ˜¾çš„é”™è¯¯æç¤ºï¼Œå¯èƒ½å¯¼è‡´æ–°ç”¨æˆ·çš„é»˜è®¤é…ç½®ä¸ºç©ºã€‚</p></div><h2 id="é¦–é€‰é¡¹çª—æ ¼" tabindex="-1">é¦–é€‰é¡¹çª—æ ¼ <a class="header-anchor" href="#é¦–é€‰é¡¹çª—æ ¼" aria-label="Permalink to &quot;é¦–é€‰é¡¹çª—æ ¼&quot;">â€‹</a></h2><h3 id="æ³¨å†Œé¦–é€‰é¡¹çª—æ ¼" tabindex="-1">æ³¨å†Œé¦–é€‰é¡¹çª—æ ¼ <a class="header-anchor" href="#æ³¨å†Œé¦–é€‰é¡¹çª—æ ¼" aria-label="Permalink to &quot;æ³¨å†Œé¦–é€‰é¡¹çª—æ ¼&quot;">â€‹</a></h3><p>Zotero ç°åœ¨åŒ…å«ä¸€ä¸ªç”¨äºæ³¨å†Œé¦–é€‰é¡¹çª—æ ¼çš„å†…ç½®æ¥å£ã€‚åœ¨æ’ä»¶çš„ <code>startup</code> ä¸­ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.PreferencePanes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  pluginID: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;make-it-red@zotero.org&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  src: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prefs.xhtml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scripts: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prefs.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stylesheets: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prefs.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>æ›´å¤šè®¾ç½®é¡¹è¯·å‚è€ƒæºç ï¼š<a href="https://github.com/zotero/zotero/blob/main/chrome/content/zotero/xpcom/preferencePanes.js#L123" target="_blank" rel="noreferrer">preferencePanes.js</a>ã€‚</p><p>çª—æ ¼çš„ <code>src</code> åº”æŒ‡å‘åŒ…å« XUL/XHTML ç‰‡æ®µçš„æ–‡ä»¶ã€‚ç‰‡æ®µä¸èƒ½æœ‰ <code>&lt;!DOCTYPE</code> ã€‚é»˜è®¤å‘½åç©ºé—´æ˜¯ XULï¼ŒHTML æ ‡ç­¾å¯åœ¨ <code>html:</code> ä¸‹è®¿é—®ã€‚ä¸€ä¸ªç®€å•çš„çª—æ ¼å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">vbox</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MakeItRed_Preferences.init()&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupbox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html:h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Colors&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html:h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		&lt;!-- [...] --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupbox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">vbox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>è¦ä½¿ç”¨ Fluent è¿›è¡Œæœ¬åœ°åŒ–ï¼Œè¯·åœ¨ XUL <code>&lt;linkset&gt;</code> ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª HTML <code>&lt;link&gt;</code> å…ƒç´ ï¼š</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">linkset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html:link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localization&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;make-it-red.ftl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">linkset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>é¦–é€‰é¡¹çª—æ ¼æ–‡æœ¬çš„æœ¬åœ°åŒ–è¯¦æƒ…è¯·å‚è€ƒï¼š<a href="./localization">æœ¬åœ°åŒ–</a>ã€‚</p><div class="warning custom-block"><p class="custom-block-title">è®¾ç½®å‘½åç©ºé—´ä»¥é¿å…å†²çª</p><p>è¯·æ³¨æ„ï¼Œé¦–é€‰é¡¹çª—æ ¼ä¸­çš„æ‰€æœ‰ <code>class</code> ã€<code>id</code> å’Œ <code>data-l10n-id</code> éƒ½åº”å‘½åç©ºé—´ä»¥é¿å…æ’ä»¶ä¹‹é—´å‘ç”Ÿå†²çªã€‚</p></div><h3 id="ç»‘å®šé¦–é€‰é¡¹" tabindex="-1">ç»‘å®šé¦–é€‰é¡¹ <a class="header-anchor" href="#ç»‘å®šé¦–é€‰é¡¹" aria-label="Permalink to &quot;ç»‘å®šé¦–é€‰é¡¹&quot;">â€‹</a></h3><p>é€šè¿‡å°†æ ‡ç­¾çš„ <code>preference</code> å±æ€§è®¾ç½®ä¸ºé¦–é€‰é¡¹çš„é”®ï¼Œå³å¯ç»‘å®šé¦–é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html:input</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extensions.zotero.makeItRed.color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><h2 id="å¢åˆ æ”¹æŸ¥è®¾ç½®é¡¹" tabindex="-1">å¢åˆ æ”¹æŸ¥è®¾ç½®é¡¹ <a class="header-anchor" href="#å¢åˆ æ”¹æŸ¥è®¾ç½®é¡¹" aria-label="Permalink to &quot;å¢åˆ æ”¹æŸ¥è®¾ç½®é¡¹&quot;">â€‹</a></h2><p>æºç ä½ç½®ï¼š<a href="https://github.com/zotero/zotero/blob/master/chrome/content/zotero/xpcom/prefs.js" target="_blank" rel="noreferrer">chrome\\content\\Zotero\\xpcom\\prefs.js</a></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Zotero</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Prefs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * Retrieve a preference</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * Set a preference</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    clear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="zotero-prefs-get" tabindex="-1">Zotero.Prefs.get <a class="header-anchor" href="#zotero-prefs-get" aria-label="Permalink to &quot;Zotero.Prefs.get&quot;">â€‹</a></h3><p>è¯»å–åç§°ä¸º <code>pref</code> çš„ Preferenceã€‚</p><p><code>pref</code> ä¸º Preference çš„é”®ï¼Œ<code>global</code> ä¸ºæ˜¯å¦æ˜¯å…¨å±€å‘½ååŸŸï¼Œé»˜è®¤å¦ã€‚</p><p>æ³¨æ„ï¼Œå¯¹äº <code>extensions.zotero.addonRef.key</code>ï¼Œåœ¨é¡µé¢ç»‘å®šä»¥åŠè®¾ç½®ç¼–è¾‘å™¨ä¸­ï¼ŒPreference çš„é”®åä¸º <code>extensions.zotero.addonRef.key</code>ï¼Œè€Œåœ¨ API ä¸­è°ƒç”¨æ—¶åªéœ€è¦ <code>addonRef.key</code>ï¼Œå¦åˆ™åˆ™éœ€è¦å¯ç”¨å…¨å±€å‘½ååŸŸã€‚</p><p>ä¾‹ï¼šé¦–é€‰é¡¹é”® <code>extensions.zotero.formatmetadata.abbr</code> çš„å€¼ä¸º <code>true</code>ã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pdfpreview.enable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extensions.zotero.formatmetadata.abbr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extensions.zotero.formatmetadata.abbr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;formatmetadata.abbr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// undefined</span></span></code></pre></div><h3 id="zotero-prefs-set" tabindex="-1">Zotero.Prefs.set <a class="header-anchor" href="#zotero-prefs-set" aria-label="Permalink to &quot;Zotero.Prefs.set&quot;">â€‹</a></h3><p>è®¾ç½®åç§°ä¸º <code>pref</code> çš„ Preference ä¸º <code>value</code>ã€‚</p><p><code>pref</code> ä¸º Preference çš„é”®ï¼Œ<code>value</code> ä¸º Preference çš„å€¼ï¼Œ<code>global</code> ä¸ºæ˜¯å¦æ˜¯å…¨å±€å‘½ååŸŸï¼Œé»˜è®¤å¦ã€‚</p><p>ä¾‹ï¼šé¦–é€‰é¡¹é”® <code>extensions.zotero.pdfpreview.enable</code> çš„å½“å‰å€¼ä¸º <code>true</code>ï¼Œéœ€è¦å°†å…¶ä¿®æ”¹ä¸º <code>false</code>ã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pdfpreview.enable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pdfpreview.enable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><h3 id="zotero-prefs-clear" tabindex="-1">Zotero.Prefs.clear <a class="header-anchor" href="#zotero-prefs-clear" aria-label="Permalink to &quot;Zotero.Prefs.clear&quot;">â€‹</a></h3><div class="info custom-block"><p class="custom-block-title">Todo</p></div><h3 id="è¾…åŠ©å‡½æ•°" tabindex="-1">è¾…åŠ©å‡½æ•° <a class="header-anchor" href="#è¾…åŠ©å‡½æ•°" aria-label="Permalink to &quot;è¾…åŠ©å‡½æ•°&quot;">â€‹</a></h3><p>åœ¨æ’ä»¶æ¨¡æ¿ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªç®€ä¾¿çš„å·¥å…·å‡½æ•°ï¼Œæ¥è§é¿å…æˆ‘ä»¬æ¯æ¬¡éƒ½è¦è¾“å…¥ <code>Zotero.Prefs.</code>:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/utils/prefs.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { config } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../../package.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * Get preference value.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * Wrapper of \`Zotero.Prefs.get\`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getPref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefsPrefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * Set preference value.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * Wrapper of \`Zotero.Prefs.set\`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setPref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefsPrefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * Clear preference value.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * Wrapper of \`Zotero.Prefs.clear\`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clearPref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Zotero.Prefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefsPrefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æœ‰äº†å·¥å…·å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>getPref(&quot;enable&quot;)</code> æ¥ç®€å†™ <code>Zotero.Prefs.get(&quot;pdfpreview.enable&quot;);</code>ã€‚</p><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><ul><li><a href="https://www.zotero.org/support/dev/zotero_7_for_developers" target="_blank" rel="noreferrer">Zotero 7 for developers</a></li><li><a href="https://github.com/windingwind/zotero-types/blob/master/types/xpcom/prefs.d.ts" target="_blank" rel="noreferrer">Zotero types</a></li></ul>`,44)),i(e),i(n)])}const u=t(k,[["render",r]]);export{F as __pageData,u as default};
